specVersion: 0.0.3
description: 2PiToken
repository: https://github.com/Gwydce/graph
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum/contract
    name: 2Pi
    network: fuji
    source:
      address: '0x65881118D84006E0a7c5AAd9498C3949a2019e8E'
      abi: PiToken
      startBlock: 2573752
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.5
      language: wasm/assemblyscript
      entities:
        - PiToken
        - Holder
        - Bundle
      abis:
        - name: PiToken
          file: ./abis/PiToken.json
        - name: Stk2Pi
          file: ./abis/Stk2Pi.json
        - name: Factory
          file: ./abis/Factory.json
        - name: LP
          file: ./abis/LP.json
        - name: ERC20
          file: ./abis/ERC20.json
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: Minted(indexed address,indexed address,uint256,bytes,bytes)
          handler: handleMint
        - event: Burned(indexed address,indexed address,uint256,bytes,bytes)
          handler: handleBurn
      file: ./src/PiTokenMapping.ts
  - kind: ethereum/contract
    name: Stk2Pi
    network: fuji
    source:
      address: '0x5Bb392af72BDD2BBa6d66D77c6B6a21e5EC2d41A'
      abi: Stk2Pi
      startBlock: 2573972
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.5
      language: wasm/assemblyscript
      entities:
        - Stk2Pi
      abis:
        - name: PiToken
          file: ./abis/PiToken.json
        - name: Stk2Pi
          file: ./abis/Stk2Pi.json
      eventHandlers:
        - event: Deposit(indexed address,uint256)
          handler: handleDeposit
        - event: Withdraw(indexed address,uint256)
          handler: handleWithdraw
      file: ./src/Stk2PiMapping.ts
  - kind: ethereum/contract
    name: Archimedes
    network: fuji
    source:
      address: '0x280816D08695aF15c57F2C3A84ec240a08DC78eb'
      abi: Archimedes
      startBlock: 2574718
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.5
      language: wasm/assemblyscript
      entities:
        - Archimedes
      abis:
        - name: PiToken
          file: ./abis/PiToken.json
        - name: Stk2Pi
          file: ./abis/Stk2Pi.json
        - name: Archimedes
          file: ./abis/Archimedes.json
      eventHandlers:
        - event: Deposit(indexed uint256,indexed address,uint256)
          handler: handleDeposit
        - event: Withdraw(indexed uint256,indexed address,uint256)
          handler: handleWithdraw
        - event: EmergencyWithdraw(indexed uint256,indexed address,uint256)
          handler: handleEmergencyWithdraw
        - event: Harvested(indexed uint256,indexed address,uint256)
          handler: handleHarvest
      file: ./src/ArchimedesMapping.ts
  - kind: ethereum/contract
    name: Distributor
    network: fuji
    source:
      address: '0x542D0C3FBf67015295A7287B7724EA30f21De2BE'
      abi: Distributor
      startBlock: 20795307
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.5
      language: wasm/assemblyscript
      entities:
        - Factory
        - Bundle
        - Archimedes
      abis:
        - name: Distributor
          file: ./abis/Distributor.json
        - name: Archimedes
          file: ./abis/Archimedes.json
        - name: IChainlink
          file: ./abis/IChainlink.json
        - name: Factory
          file: ./abis/Factory.json
        - name: LP
          file: ./abis/LP.json
        - name: ERC20
          file: ./abis/ERC20.json
      eventHandlers:
        - event: FoundersDistributed(uint256)
          handler: handleKPI
      file: ./src/DistributorMapping.ts
  - kind: ethereum/contract
    name: Referral
    network: fuji
    source:
      address: '0x1b9003bB160062eCAB945D560F5F5dA32Eafb491'
      abi: Referral
      startBlock: 2574733
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.5
      language: wasm/assemblyscript
      entities:
        - Holder
        - Bundle
      abis:
        - name: Referral
          file: ./abis/Referral.json
        - name: PiToken
          file: ./abis/PiToken.json
        - name: Stk2Pi
          file: ./abis/Stk2Pi.json
      eventHandlers:
        - event: ReferralPaid(indexed address,uint256)
          handler: handleReferralPaid
      file: ./src/ReferralMapping.ts
